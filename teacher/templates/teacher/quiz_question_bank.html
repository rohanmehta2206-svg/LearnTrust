{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz Question Bank | Adaptive LMS</title>

    <style>
        *{
            margin:0;
            padding:0;
            box-sizing:border-box;
        }

        body{
            font-family:"Segoe UI",sans-serif;
            background:#f6f8fc;
        }

        /* ================= HEADER ================= */
        header{
            background:white;
            padding:18px 70px;
            display:flex;
            justify-content:space-between;
            align-items:center;
            box-shadow:0 4px 12px rgba(0,0,0,0.05);
        }

        header .logo{
            font-size:22px;
            font-weight:800;
            color:#111;
        }

        header .btn-dashboard{
            background:#2563eb;
            color:white;
            padding:10px 18px;
            border-radius:12px;
            text-decoration:none;
            font-weight:600;
        }

        header .btn-dashboard:hover{
            background:#1e40af;
        }

        /* ================= MAIN CONTAINER ================= */
        .container{
            padding:50px 80px;
        }

        h1{
            font-size:36px;
            font-weight:800;
            margin-bottom:8px;
        }

        p.subtitle{
            color:gray;
            margin-bottom:35px;
            font-size:15px;
        }

        /* ================= COURSE GRID ================= */
        .course-grid{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
            gap:25px;
            margin-top:25px;
        }

        .course-card{
            background:white;
            padding:28px;
            border-radius:20px;
            box-shadow:0 8px 20px rgba(0,0,0,0.07);
            transition:0.3s;
        }

        .course-card:hover{
            transform:translateY(-6px);
        }

        .course-card h3{
            font-size:20px;
            margin-bottom:10px;
            font-weight:700;
        }

        .course-card p{
            color:gray;
            font-size:14px;
            margin-bottom:18px;
        }

        .course-card a{
            display:inline-block;
            padding:10px 18px;
            background:#2563eb;
            color:white;
            border-radius:12px;
            text-decoration:none;
            font-weight:600;
        }

        .course-card a:hover{
            background:#1e40af;
        }

        /* ================= QUESTION BANK HEADER ================= */
        .bank-header{
            display:flex;
            justify-content:space-between;
            align-items:center;
            margin-top:30px;
        }

        .btn-add{
            background:#16a34a;
            padding:10px 18px;
            border-radius:12px;
            color:white;
            text-decoration:none;
            font-weight:600;
        }

        .btn-add:hover{
            background:#15803d;
        }

        /* ================= FILTER BAR ================= */
        .filters{
            display:flex;
            gap:15px;
            margin-top:20px;
        }

        select{
            padding:10px;
            border-radius:10px;
            border:1px solid #ddd;
            font-size:14px;
        }

        /* ================= QUESTION TABLE ================= */
        table{
            width:100%;
            border-collapse:collapse;
            margin-top:25px;
            background:white;
            border-radius:18px;
            overflow:hidden;
            box-shadow:0 6px 18px rgba(0,0,0,0.08);
        }

        th{
            background:#2563eb;
            color:white;
            padding:16px;
            text-align:left;
            font-size:15px;
        }

        td{
            padding:16px;
            border-bottom:1px solid #eee;
            font-size:14px;
        }

        tr:hover{
            background:#f9fbff;
        }

        /* ================= BADGES ================= */
        .badge{
            padding:6px 12px;
            border-radius:10px;
            font-size:12px;
            font-weight:700;
            display:inline-block;
        }

        .badge-mcq{
            background:#dbeafe;
            color:#1e40af;
        }

        .badge-truefalse{
            background:#fef9c3;
            color:#854d0e;
        }

        .badge-easy{
            background:#dcfce7;
            color:#166534;
        }

        .badge-medium{
            background:#ffedd5;
            color:#9a3412;
        }

        .badge-hard{
            background:#fee2e2;
            color:#991b1b;
        }

        /* ================= BACK BUTTON ================= */
        .back-btn{
            display:inline-block;
            margin-top:25px;
            padding:10px 18px;
            background:#111827;
            color:white;
            border-radius:12px;
            text-decoration:none;
            font-weight:600;
        }

        .back-btn:hover{
            background:black;
        }
    </style>
</head>

<body>

<!-- ================= TOP HEADER ================= -->
<header>
    <div class="logo">üéì Adaptive LMS</div>
    <a href="{% url 'teacher:teacher_dashboard' %}" class="btn-dashboard">
        ‚Üê Teacher Dashboard
    </a>
</header>

<!-- ================= MAIN CONTENT ================= -->
<div class="container">

    <h1>üìò Quiz Question Bank</h1>
    <p class="subtitle">
        Moodle-style Question Bank for Teachers ‚Äî Manage quiz questions easily.
    </p>


    <!-- ‚úÖ COURSE SELECTION -->
    {% if not selected_course %}

        <h2>Select a Course</h2>

        <div class="course-grid">
            {% for course in courses %}
            <div class="course-card">
                <h3>{{ course.name }}</h3>
                <p>{{ course.description }}</p>

                <a href="?course_id={{ course.id }}">
                    Open Question Bank ‚Üí
                </a>
            </div>
            {% empty %}
            <p>No courses available yet.</p>
            {% endfor %}
        </div>

    {% endif %}


    <!-- ‚úÖ QUESTION BANK -->
    {% if selected_course %}

        <div class="bank-header">
            <h2>üìå Questions for: {{ selected_course.name }}</h2>

            <!-- Add Question Button -->
            <a href="#" class="btn-add">
                + Add Question
            </a>
        </div>

        <!-- Filters -->
        <div class="filters">
            <select>
                <option>Filter by Type</option>
                <option>MCQ</option>
                <option>True/False</option>
                <option>Short Answer</option>
            </select>

            <select>
                <option>Filter by Difficulty</option>
                <option>Easy</option>
                <option>Medium</option>
                <option>Hard</option>
            </select>
        </div>

        <!-- Question Table -->
        <table>
            <tr>
                <th>Question</th>
                <th>Type</th>
                <th>Difficulty</th>
            </tr>

            {% for q in questions %}
            <tr>
                <td>{{ q.title }}</td>

                <td>
                    <span class="badge badge-mcq">
                        {{ q.qtype }}
                    </span>
                </td>

                <td>
                    {% if q.level == "Easy" %}
                        <span class="badge badge-easy">{{ q.level }}</span>
                    {% elif q.level == "Medium" %}
                        <span class="badge badge-medium">{{ q.level }}</span>
                    {% else %}
                        <span class="badge badge-hard">{{ q.level }}</span>
                    {% endif %}
                </td>
            </tr>

            {% empty %}
            <tr>
                <td colspan="3" style="text-align:center; padding:25px;">
                    No questions available yet. Add your first question üéâ
                </td>
            </tr>
            {% endfor %}
        </table>

        <a href="/teacher/quiz-bank/" class="back-btn">
            ‚Üê Back to Course List
        </a>

    {% endif %}

</div>

</body>
</html>
